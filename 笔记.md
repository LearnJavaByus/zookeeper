## 概要
 
 图片地址：http://www.iocoder.cn/images/Spring-Boot/2020-08-01/01.png

* ① Provider：
启动时，向 Registry 注册自己为一个服务（Service）的实例（Instance）。
同时，定期向 Registry 发送心跳，告诉自己还存活。
关闭时，向 Registry 取消注册。

* ② Consumer：
启动时，向 Registry 订阅使用到的服务，并缓存服务的实例列表在内存中。
后续，Consumer 向对应服务的 Provider 发起调用时，从内存中的该服务的实例列表选择一个，进行远程调用。
关闭时，向 Registry 取消订阅。

* ③ Registry：
Provider 超过一定时间未心跳时，从服务的实例列表移除。
服务的实例列表发生变化（新增或者移除）时，通知订阅该服务的 Consumer，从而让 Consumer 能够刷新本地缓存。

## 重点
  * 序列化
  * 持久化
  * watcher 机制
  * 请求处理链
  * 网络通讯
  * leader 选举
  * 服务器
  